import{useEffect as t}from"react";import{useConnectors as r,useConfig as e,useReconnect as i}from"wagmi";import{injected as o}from"wagmi/connectors";const n=({getSmartAccountFromSigner:n})=>{let a=r(),c=e(),{reconnect:m}=i();t((()=>{(async()=>{if(a.find((t=>"io.privy.smart_wallet"===t.id)))return;let t=a.find((t=>"io.privy.wallet"===t.id));if(!t)return;let r=await t.getProvider(),e=o({target:{provider:await n({signer:r}),id:"io.privy.smart_wallet",name:"io.privy.smart_wallet",icon:""}}),i=c._internal.connectors.setup(e);c._internal.connectors.setState([i]),await(c.storage?.setItem("recentConnectorId",i.id)),m()})()}),[a,c,n])};export{n as useEmbeddedSmartAccountConnector};
